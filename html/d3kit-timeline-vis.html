<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>d3Kit-timeline</title>

  <link rel="stylesheet" href="d3kit-style.css">
  <style>
    .axis path{
      fill: none;
      stroke-width: 2px;
      stroke: #222;
    }

    .axis line{
      fill: none;
      stroke-width: 1px;
      stroke: #222;
    }

    .axis text{
      font-size: 10px;
    }

    path.link{
      stroke-width: 2px;
      opacity: 0.6;
    }

    text.label-text{
      font-size: 12px;
    }
  </style>
</head>


<body>

<br>

<script src="http://d3js.org/d3.v3.min.js"></script>
<script src="http://rawgit.com/twitter/d3kit/master/dist/d3kit.min.js"></script>
<script src="https://rawgit.com/twitter/labella.js/master/dist/labella.min.js"></script>
<script src="https://rawgit.com/kristw/d3kit-timeline/master/dist/d3kit-timeline.min.js"></script>

<div class="timeline" id="t1x"></div>
<script>
/* globals d3, d3Kit, d3KitTimeline */

'use strict';

d3.json("../testdata/posts_974071749342682.json", function(err, json) {
  var time_format = d3.time.format("%Y-%m-%dT%X%Z");

  var data = [];
  var element = document.getElementById('chart');

  json.data.forEach(function(d) {
    var date = time_format.parse(d.created_time);
    var date_object = {
      time: date,
      id: d.id,
      message: d.message,
      story: d.story
    };

    data.push(date_object);
  });

  // pop out the status of birthday created by Facebook
  data.pop();

  var chart1x = new d3KitTimeline('#t1x', {
      direction: 'right',
      initialHeight: 1000000,
      textFn: function(d){
        return d.time.getFullYear() + '/' + (d.time.getMonth()+1) + '/' + d.time.getDate() + ' - ' + (d.message || d.story);
      }
    }).data(data).resizeToFit();
});
</script>

<div class="timeline" id="t2x"></div>
<script>
/* globals d3, d3Kit, d3KitTimeline */

'use strict';

d3.json("../testdata/posts_10206020424375054.json", function(err, json) {
  var time_format = d3.time.format("%Y-%m-%dT%X%Z");

  var data = [];
  var element = document.getElementById('chart');

  json.data.forEach(function(d) {
    var date = time_format.parse(d.created_time);
    var date_object = {
      time: date,
      id: d.id,
      message: d.message,
      story: d.story
    };

    data.push(date_object);
  });

  // pop out the status of birthday created by Facebook
  data.pop();

  var chart2x = new d3KitTimeline('#t2x', {
      direction: 'right',
      initialHeight: 1000000,
      textFn: function(d){
        return d.time.getFullYear() + '/' + (d.time.getMonth()+1) + '/' + d.time.getDate() + ' - ' + (d.message || d.story);
      }
    }).data(data).resizeToFit();
});
</script>

<!-- <div class="timeline" id="t2x"></div>
<script>
var chart2x = new d3KitTimeline('#t2x', {
  direction: 'left',
  initialHeight: 250,
  margin: {left: 20, right: 20, top: 20, bottom: 20},
  textFn: function(d){
    return d.name + ' - ' + d.time.getFullYear();
  },
  labelBgColor: '#777',
  linkColor: '#777'
});
chart2x.axis.ticks(0).tickSize(0);
chart2x.data(data).resizeToFit();
</script> -->

</body>
</html>
